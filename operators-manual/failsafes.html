
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Failsafes Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-richquotes/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="logging.html" />
    
    
    <link rel="prev" href="flight-modes.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Introduction</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../introduction/features.html">
            
                <a href="../introduction/features.html">
            
                    
                    Features
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../introduction/applications.html">
            
                <a href="../introduction/applications.html">
            
                    
                    Applications
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Hardware</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../hardware/components.html">
            
                <a href="../hardware/components.html">
            
                    
                    Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../hardware/components.html">
            
                <a href="../hardware/components.html#topside-components">
            
                    
                    Topside
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../hardware/components.html">
            
                <a href="../hardware/components.html#rov-components">
            
                    
                    ROV
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Software</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../software/components.html">
            
                <a href="../software/components.html">
            
                    
                    Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../software/ardusub-firmware.html">
            
                <a href="../software/ardusub-firmware.html">
            
                    
                    ArduSub Firmware
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../software/ardusub-firmware.html">
            
                <a href="../software/ardusub-firmware.html#versioning">
            
                    
                    Versioning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../software/ardusub-firmware.html">
            
                <a href="../software/ardusub-firmware.html#release-history">
            
                    
                    Release History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="../software/ardusub-firmware.html">
            
                <a href="../software/ardusub-firmware.html#what-version-is-installed">
            
                    
                    What Version is Installed?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.4" data-path="../software/ardusub-firmware.html">
            
                <a href="../software/ardusub-firmware.html#updating">
            
                    
                    Updating
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Getting Started</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html">
            
                    
                    Installation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html#qgroundcontrol">
            
                    
                    QGroundControl
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html#ardusub">
            
                    
                    ArduSub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html#raspberry-pi">
            
                    
                    Raspberry Pi
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../getting-started/initial-setup.html">
            
                <a href="../getting-started/initial-setup.html">
            
                    
                    Initial Setup
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Operator's Manual</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="button-functions.html">
            
                <a href="button-functions.html">
            
                    
                    Joystick Button Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="arming-checks.html">
            
                <a href="arming-checks.html">
            
                    
                    Arming Checks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="flight-modes.html">
            
                <a href="flight-modes.html">
            
                    
                    Flight Modes
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="5.4" data-path="failsafes.html">
            
                <a href="failsafes.html">
            
                    
                    Failsafes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="logging.html">
            
                <a href="logging.html">
            
                    
                    Logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="parameters.html">
            
                <a href="parameters.html">
            
                    
                    Parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="full-parameter-list.html">
            
                <a href="full-parameter-list.html">
            
                    
                    Full Parameter List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="../troubleshooting/troubleshooting.html">
            
                <a href="../troubleshooting/troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.9" data-path="rc-input-and-output.html">
            
                <a href="rc-input-and-output.html">
            
                    
                    RC Input and Output
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.10" data-path="outputs.html">
            
                <a href="outputs.html">
            
                    
                    Controlling Outputs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.11" data-path="recording-video.html">
            
                <a href="recording-video.html">
            
                    
                    Recording Video
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.12" data-path="companion-web.html">
            
                <a href="companion-web.html">
            
                    
                    Companion Web Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.13" data-path="software-update.html">
            
                <a href="software-update.html">
            
                    
                    Updating Software
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Developers</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../developers/opencv.html">
            
                <a href="../developers/opencv.html">
            
                    
                    OpenCV
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../developers/pymavlink.html">
            
                <a href="../developers/pymavlink.html">
            
                    
                    Pymavlink
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../developers/sitl.html">
            
                <a href="../developers/sitl.html">
            
                    
                    SITL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../developers/developers.html">
            
                <a href="../developers/developers.html">
            
                    
                    Build ArduSub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="../developers/building-docs.html">
            
                <a href="../developers/building-docs.html">
            
                    
                    Build this Documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="../developers/gps-positioning.html">
            
                <a href="../developers/gps-positioning.html">
            
                    
                    GPS Positioning
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Resources</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../resources/community.html">
            
                <a href="../resources/community.html">
            
                    
                    Community
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../resources/downloads.html">
            
                <a href="../resources/downloads.html">
            
                    
                    Downloads
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.2.1" data-path="../resources/downloads.html">
            
                <a href="../resources/downloads.html#qgroundcontrol">
            
                    
                    QGroundControl
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2.2" data-path="../resources/downloads.html">
            
                <a href="../resources/downloads.html#ardusub-firmware-files">
            
                    
                    ArduSub Firmware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2.3" data-path="../resources/downloads.html">
            
                <a href="../resources/downloads.html#raspberry-pi-images">
            
                    
                    Raspberry Pi Image
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../resources/further-reading.html">
            
                <a href="../resources/further-reading.html">
            
                    
                    Further Reading
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Miscellaneous</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../miscellaneous/wireless-topside.html">
            
                <a href="../miscellaneous/wireless-topside.html">
            
                    
                    Wireless Topside
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Failsafes</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="failsafes">Failsafes</h1>
<p>Individual failsafes are triggered when a certain set of conditions are met. Failsafe actions can be configured individually for each failsafe trigger. When a failsafe is triggered, the cooresponding failsafe action is executed. Some failsafes have additional settings that allow you to adjust the trigger conditions, such as maximum acceptable pressure or temperature.</p>
<p>Failsafe actions are only executed once when a failsafe is triggered. The vehicle can be armed during an active failsafe condition if the arming checks are passing. The flight mode can be changed as long as the failsafe conditions do not prevent it. If an active failsafe is cleared, the failsafe action will be executed again if the failsafe re-triggers.</p>
<h2 id="triggers">Triggers</h2>
<h4 id="leak">Leak</h4>
<p>Triggered immediately when a configured <em>Leak Detector</em> detects a leak. The failsafe is cleared if the leak detector reports no leaks for two seconds.</p>
<h4 id="internal-pressure">Internal Pressure</h4>
<p>This is triggered when the internal pressure of the water tight enclosure (WTE) exceeds the threshold set by the <em>FS_PRESS_MAX</em> parameter for two seconds. The failsafe is cleared immediately when the internal pressure is less than the threshold value.</p>
<h4 id="internal-temperature">Internal Temperature</h4>
<p>This is triggered when the internal temperature of the water tight enclosure (WTE) exceeds the threshold set by the <em>FS_TEMP_MAX</em> parameter. The failsafe is cleared immediately when the internal temperature is less than the threshold value.</p>
<h4 id="ground-control-station-heartbeat">Ground Control Station HEARTBEAT</h4>
<p>Triggered when a HEARTBEAT from the ground control station matching <em>SYSID_MYGCS</em> hasn&apos;t been received for more than 2.5 seconds. The failsafe is cleared immediately when a HEARTBEAT is received.</p>
<p><em>Note</em> If the system id of the companion computer is a match with <em>SYSID_MYGCS</em> , then the heartebeats originating from a process (ie MAVProxy) on the companion computer may prevent this failsafe from triggering when expected.</p>
<h4 id="pilot-input">Pilot Input</h4>
<p>Triggered when pilot manual control input has not been received since the amount of time specified by the <em>FS_PILOT_TIMEOUT</em> parameter.</p>
<h4 id="sensors">Sensors</h4>
<p>Triggered when a sensor failure prevents the current flight mode to proceed. This occurs if the depth sensor fails while in depth hold mode. The autopilot will switch into <em>MANUAL</em> mode when triggered. This failsafe is always enabled, and is not configurable.</p>
<h4 id="battery">Battery</h4>
<p>Triggered when the battery voltage drops below the voltage specified by the <em>FS_BATT_VOLTAGE</em> parameter, or if the remaining capacity drops below the capacity specified by the <em>FS_BATT_MAH</em> parameter.</p>
<h4 id="ekf">EKF</h4>
<p>Triggered when the EKF compass or velocity variances exceed the threshold set by the <em>FS_EKF_THRESH</em> parameter.</p>
<h4 id="crash">Crash</h4>
<p>Triggered when the angle error exceeds 30 degrees for more than 2 seconds. This is never triggered in <em>Manual</em> or <em>Acro</em> flight modes.</p>
<h2 id="actions">Actions</h2>
<h4 id="disabled">Disabled</h4>
<p>The failsafe is disabled, and nothing (not even event logging) will happen.</p>
<h4 id="warn-only">Warn Only</h4>
<p>A message will be sent to the ground control station indicating the failsafe conditions have been met. The warning is sent via STATUSTEXT messages, there is no mechanism to immediately re-send the message in the case that it was not received by the ground control station. The warning is sent repeatedly at 20~30 second intervals as long as the failsafe conditions are met.</p>
<p>These warnings are also sent if the failsafe action is set to anything other than <em>Disabled</em>.</p>
<h4 id="disarm">Disarm</h4>
<p>If the vehicle is armed, the vehicle will disarm immediately when the failsafe conditions are met. The vehicle can be re-armed after the failsafe triggers, even while the failsafe conditions are met, as long as the arming checks are passing. If the failsafe clears due to resolved conditions, the vehicle will disarm again if the failsafe is re-triggered. </p>
<h4 id="surface">Surface</h4>
<p>If the vehicle is armed, the vehicle will enter <em>Surface</em> flight mode. The flight mode can be changed by the pilot, and the vehicle may be disarmed at any point.</p>
<h4 id="hold">Hold</h4>
<p>If the vehicle is armed, the vehicle will enter <em>Position Hold</em> mode, or <em>Depth Hold</em> mode, if positioning is not possible.</p>
<p style="font-size:10px; text-align:center">
Sponsored by <a href="http://www.bluerobotics.com/" target="_blank">Blue Robotics</a>. Code released under the <a href="https://github.com/bluerobotics/ardusub/blob/master/COPYING.txt" target="_blank">GPLv3 License</a>. Documentation released under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC-NC-SA 4.0</a>.<br>
<a href="https://github.com/bluerobotics/ardusub-gitbook/issues/" target="_blank">Submit a Documentation GitHub Issue here</a> to report any errors, suggestions, or missing information in this documentation.<br>
<a href="https://github.com/bluerobotics/ardusub/issues/" target="_blank">Submit an ArduSub GitHub Issue here</a> to report issues with the ArduSub software.
</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="flight-modes.html" class="navigation navigation-prev " aria-label="Previous page: Flight Modes">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="logging.html" class="navigation navigation-next " aria-label="Next page: Logging">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Failsafes","level":"5.4","depth":1,"next":{"title":"Logging","level":"5.5","depth":1,"path":"operators-manual/logging.md","ref":"operators-manual/logging.md","articles":[]},"previous":{"title":"Flight Modes","level":"5.3","depth":1,"path":"operators-manual/flight-modes.md","ref":"operators-manual/flight-modes.md","articles":[]},"dir":"ltr"},"config":{"gitbook":">= 3.2.2","theme":"default","variables":{},"plugins":["youtube","richquotes","page-toc-button","collapsible-menu","custom-favicon","toolbar@git+https://github.com/hamishwillee/gitbook-plugin-toolbar.git","-validate-links"],"pluginsConfig":{"collapsible-menu":{},"youtube":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"richquotes":{"tip":{"alert":"success","picto":"fa-thumbs-o-up"},"aerial":{"alert":"warning","picto":"fa-plane"},"gps":{"alert":"info","picto":"fa-map-marker"},"version":{"alert":"info","picto":"fa fa-refresh fa-spin fa-3x fa-fw"}},"highlight":{},"favicon":"favicon.ico","page-toc-button":{},"custom-favicon":{},"toolbar":{"buttons":[{"label":"Bug tracker","icon":"fa fa-bug","position":"left","url":"https://github.com/bluerobotics/ardusub-gitbook/issues/new?title=Doc+Bug:+{{title}}&body=DESCRIBE+PROBLEM+WITH+DOCS+HERE%0A%0ABug+Page:+[{{title}}]({{url}})"},{"label":"GitHub","icon":"fa fa-github","url":"https://github.com/Ardupilot/ardupilot"},{"label":"Edit page on github","icon":"fa fa-pencil-square-o","position":"left","url":"https://github.com/bluerobotics/ardusub-gitbook/edit/master/{{filepath_lang}}"}]},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"operators-manual/failsafes.md","mtime":"2020-03-30T14:19:04.871Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-03-30T14:19:50.380Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-toolbar/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

