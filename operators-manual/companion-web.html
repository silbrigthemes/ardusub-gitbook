
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Companion Web Interface Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-richquotes/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="software-update.html" />
    
    
    <link rel="prev" href="recording-video.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Introduction</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../introduction/features.html">
            
                <a href="../introduction/features.html">
            
                    
                    Features
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../introduction/applications.html">
            
                <a href="../introduction/applications.html">
            
                    
                    Applications
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Hardware</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../hardware/components.html">
            
                <a href="../hardware/components.html">
            
                    
                    Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../hardware/components.html">
            
                <a href="../hardware/components.html#topside-components">
            
                    
                    Topside
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../hardware/components.html">
            
                <a href="../hardware/components.html#rov-components">
            
                    
                    ROV
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Software</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../software/components.html">
            
                <a href="../software/components.html">
            
                    
                    Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../software/ardusub-firmware.html">
            
                <a href="../software/ardusub-firmware.html">
            
                    
                    ArduSub Firmware
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../software/ardusub-firmware.html">
            
                <a href="../software/ardusub-firmware.html#versioning">
            
                    
                    Versioning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../software/ardusub-firmware.html">
            
                <a href="../software/ardusub-firmware.html#release-history">
            
                    
                    Release History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="../software/ardusub-firmware.html">
            
                <a href="../software/ardusub-firmware.html#what-version-is-installed">
            
                    
                    What Version is Installed?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.4" data-path="../software/ardusub-firmware.html">
            
                <a href="../software/ardusub-firmware.html#updating">
            
                    
                    Updating
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Getting Started</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html">
            
                    
                    Installation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html#qgroundcontrol">
            
                    
                    QGroundControl
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html#ardusub">
            
                    
                    ArduSub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../getting-started/installation.html">
            
                <a href="../getting-started/installation.html#raspberry-pi">
            
                    
                    Raspberry Pi
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../getting-started/initial-setup.html">
            
                <a href="../getting-started/initial-setup.html">
            
                    
                    Initial Setup
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Operator's Manual</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="button-functions.html">
            
                <a href="button-functions.html">
            
                    
                    Joystick Button Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="arming-checks.html">
            
                <a href="arming-checks.html">
            
                    
                    Arming Checks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="flight-modes.html">
            
                <a href="flight-modes.html">
            
                    
                    Flight Modes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="failsafes.html">
            
                <a href="failsafes.html">
            
                    
                    Failsafes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="logging.html">
            
                <a href="logging.html">
            
                    
                    Logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="parameters.html">
            
                <a href="parameters.html">
            
                    
                    Parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="full-parameter-list.html">
            
                <a href="full-parameter-list.html">
            
                    
                    Full Parameter List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="../troubleshooting/troubleshooting.html">
            
                <a href="../troubleshooting/troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.9" data-path="rc-input-and-output.html">
            
                <a href="rc-input-and-output.html">
            
                    
                    RC Input and Output
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.10" data-path="outputs.html">
            
                <a href="outputs.html">
            
                    
                    Controlling Outputs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.11" data-path="recording-video.html">
            
                <a href="recording-video.html">
            
                    
                    Recording Video
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="5.12" data-path="companion-web.html">
            
                <a href="companion-web.html">
            
                    
                    Companion Web Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.13" data-path="software-update.html">
            
                <a href="software-update.html">
            
                    
                    Updating Software
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Developers</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../developers/opencv.html">
            
                <a href="../developers/opencv.html">
            
                    
                    OpenCV
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../developers/pymavlink.html">
            
                <a href="../developers/pymavlink.html">
            
                    
                    Pymavlink
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../developers/sitl.html">
            
                <a href="../developers/sitl.html">
            
                    
                    SITL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../developers/developers.html">
            
                <a href="../developers/developers.html">
            
                    
                    Build ArduSub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="../developers/building-docs.html">
            
                <a href="../developers/building-docs.html">
            
                    
                    Build this Documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="../developers/gps-positioning.html">
            
                <a href="../developers/gps-positioning.html">
            
                    
                    GPS Positioning
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Resources</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../resources/community.html">
            
                <a href="../resources/community.html">
            
                    
                    Community
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../resources/downloads.html">
            
                <a href="../resources/downloads.html">
            
                    
                    Downloads
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.2.1" data-path="../resources/downloads.html">
            
                <a href="../resources/downloads.html#qgroundcontrol">
            
                    
                    QGroundControl
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2.2" data-path="../resources/downloads.html">
            
                <a href="../resources/downloads.html#ardusub-firmware-files">
            
                    
                    ArduSub Firmware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2.3" data-path="../resources/downloads.html">
            
                <a href="../resources/downloads.html#raspberry-pi-images">
            
                    
                    Raspberry Pi Image
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../resources/further-reading.html">
            
                <a href="../resources/further-reading.html">
            
                    
                    Further Reading
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Miscellaneous</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../miscellaneous/wireless-topside.html">
            
                <a href="../miscellaneous/wireless-topside.html">
            
                    
                    Wireless Topside
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Companion Web Interface</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="companion-web-interface">Companion Web Interface</h1>
<p>The Companion computer(<a href="../getting-started/installation.html#raspberry-pi">Install instructions</a>) hosts a useful web-interface with different pages for accessing parameters and functionalities associated with Companion. When a Companion computer is connected to a ground computer, a user can access the web-interface on <a href="http://192.168.2.2:2770" target="_blank">192.168.2.2:2770</a>. Users can access Network, System, Camera and Routing pages alongside a number of other user friendly options as described below.</p>
<h2 id="companion-header">Companion Header</h2>
<p>The web interface header displays the Companion software version. It provides navigation links to the main configuration pages available in the web interface, options to restart and shutdown the Companion computer, and a switch to enable advanced options on the current page (if available).</p>
<p><img src="../images/companionversion.png" class="img-responsive img-center" style="max-width:750px"></p>
<h2 id="network">Network</h2>
<p>The web interface by default opens at the <a href="http://192.168.2.2:2770/network" target="_blank">Network</a> page. This page allows users to:</p>
<ul>
<li>Configure WiFi</li>
<li>Check WiFi and Internet Status </li>
<li>Configure Ethernet IP address</li>
<li>Test the network for Uploads and Downloads</li>
<li>Ethernet network configuration (advanced): The Ethernet interface can be configured as DHCP Server, DHCP Client or Manual (static) mode.<ul>
<li>Manual: Manual: The interface is configured with a static IP address. This is the default configuration. The default IP address is 192.168.2.2.</li>
<li>DHCP Server: The interface is configured as a DHCP server on the 192.168.2.x subnet. The interface IP address will be 192.168.2.2 in this mode.</li>
<li>DHCP Client: This is useful for connecting to a router.</li>
</ul>
</li>
</ul>
<p><img src="../images/Network.png" class="img-responsive img-center" style="max-width:750px"></p>
<h2 id="system">System</h2>
<p>The <a href="http://192.168.2.2:2770/system" target="_blank">System</a> page provides the following functionalities and features:</p>
<ul>
<li>Update the Companion software</li>
<li>Display system resource information</li>
<li>Display the active services</li>
<li>Display detected/recognized devices</li>
</ul>
<p><img src="../images/system1.png" class="img-responsive img-center" style="max-width:750px"></p>
<ul>
<li>Display current ArduSub firmware version on the autopilot</li>
<li>Download, Update, or Restore pixhawk firmware</li>
<li>Download a system log for the web interface</li>
</ul>
<p><img src="../images/system2.png" class="img-responsive img-center" style="max-width:750px"></p>
<h2 id="camera">Camera</h2>
<p>The <a href="http://192.168.2.2:2770/camera" target="_blank">Camera</a> page allows the user to view and make changes to:</p>
<ul>
<li>Detailed camera settings including Brightness, Contrast, Hue, Sharpness, etc. among others</li>
<li>Video Streaming settings including selecting a video device, format and frame size</li>
</ul>
<p><img src="../images/camera.png" class="img-responsive img-center" style="max-width:750px"></p>
<h2 id="routing">Routing</h2>
<p>The <a href="http://192.168.2.2:2770/routing" target="_blank">Routing</a> page can be used to route serial communications between serial devices and network ports. It can be used to create one-to-one, and one-to-many connections. The configuration on this page is persistent and loaded at boot. The configuration is stored in the file <code>~/routing.conf</code>.</p>
<blockquote class="clearfix alert alert-info"><strong class="fa fa-2x fa-edit"></strong>
<p> This program is written in python and is not optimized or well-suited for high-bandwidth applications. The maximum recommended baudrate is 115200. If high bandwidth routing is required, standard linux tools like <code>tty</code>, <code>socat</code> and <code>netcat</code> should be used instead.</p>
</blockquote>
<p><img src="../images/companion-routing/routing-setup.png" class="img-responsive img-center" style="max-width:750px"></p>
<p>To use the companion routing tool:</p>
<ul>
<li>create one or more endpoints with your desired configuration</li>
<li>add connections between the endpoints as you want</li>
<li>remove connections by clicking the &apos;broken link&apos; button next to the configuration</li>
<li>remove endpoints by clicking the &apos;trash can&apos; button next to the configuration</li>
</ul>
<p><img src="../images/companion-routing/configuration.png" class="img-responsive img-center" style="max-width:750px"></p>
<h3 id="endpoints">Endpoints</h3>
<p>An endpoint can be a serial port or a network port. Create an endpoint by entering the desired port settings, and click &apos;create link&apos;.</p>
<p><strong>Serial Endpoints</strong></p>
<p>Select one of the available serial ports from the drop down list, and choose the baudrate to use. The serial port must not be in use by another program! Click &apos;Add Serial Endpoint&apos; to create the communication endpoint.</p>
<p><img src="../images/companion-routing/serial-endpoint.png" class="img-responsive img-center" style="max-width:750px"></p>
<p><strong>UDP Endpoints</strong></p>
<p>Enter the ip address and UDP port to use. If the ip address is &apos;0.0.0.0&apos;, it will bind the local port as a server. All other ip addresses will result in a client connection. Click &apos;Add UDP Endpoint&apos; to create the communication endpoint.</p>
<p><img src="../images/companion-routing/udp-endpoint.png" class="img-responsive img-center" style="max-width:750px"></p>
<h3 id="routes">Routes</h3>
<p>Endpoints can be connected bidirectionally (typical), or with a one way connection. To begin routing communications between endpoints, choose the endpoints that you wish to connect, the direction to route communications, and click &apos;connect&apos;.</p>
<p><img src="../images/companion-routing/create-routes.png" class="img-responsive img-center" style="max-width:750px"></p>
<h3 id="example-configurations">Example configurations</h3>
<h4 id="topside-as-udp-server">Topside as UDP Server</h4>
<p>To bridge serial communications between a device connected to the companion computer inside the ROV, and the existing network connection to the topside computer:</p>
<ol>
<li>Create a serial endpoint corresponding to the attached serial device and the desired serial baudrate</li>
<li>Create a UDP endpoint using the topside computer IP address <strong>192.168.2.1</strong>, and the port that the topside application will bind.</li>
<li>Connect them bidirectionally</li>
<li>The application on the topside computer should bind the UDP port as a server</li>
</ol>
<p>To test the connection on a linux machine, bind to the port with &quot;netcat&quot; on the topside computer: <code>nc -ulp &lt;port&gt;</code></p>
<blockquote class="clearfix alert alert-info"><strong class="fa fa-2x fa-edit"></strong>
<p> Topside as UDP Server mode is not recommended for master-slave setups. For the connection to be properly stabilished, the serial device must send some data. Only then the connection is stabilished and the topside is able to send data to the companion.</p>
</blockquote>
<p>This python script exemplifies how to run an UDP server with Python:</p>
<pre><code class="lang-Python"><span class="hljs-string">&quot;&quot;&quot;
Companion routing UDP server example.

This script Binds to an UDP port and receives data from the Companion at
a given port.
You should run this at your topside computer.
&quot;&quot;&quot;</span>
<span class="hljs-keyword">import</span> socket

UDP_IP = <span class="hljs-string">&quot;192.168.2.1&quot;</span> <span class="hljs-comment"># Topside (local) IP</span>
UDP_PORT = <span class="hljs-number">5555</span>        <span class="hljs-comment"># Topside (local) port to listen on</span>

sock = socket.socket(socket.AF_INET, <span class="hljs-comment"># Internet</span>
                    socket.SOCK_DGRAM) <span class="hljs-comment"># UDP</span>
sock.bind((UDP_IP, UDP_PORT))

<span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
    data, addr = sock.recvfrom(<span class="hljs-number">1024</span>) <span class="hljs-comment"># Buffer size is 1024 bytes</span>
    print(data.decode())
</code></pre>
<h4 id="companion-as-udp-server">Companion as UDP Server</h4>
<ol>
<li>Create a serial endpoint corresponding to the attached serial device and the desired serial baudrate</li>
<li>Create a UDP endpoint using the <strong>0.0.0.0</strong> IP address, and the port that the server will bind to.</li>
<li>Connect them bidirectionally</li>
<li>The application on the topside computer should connect to <strong>192.168.2.2</strong> at the port chosen in step two</li>
</ol>
<p>To test the connection on a linux machine, bind to the port with &quot;netcat&quot; on the topside computer: <code>nc -u 192.168.2.2 &lt;port&gt;</code></p>
<p>This Python example shows how to communicate using these UDP ports:</p>
<pre><code class="lang-Python"><span class="hljs-string">&quot;&quot;&quot;
Companion routing UDP client example.

This script connects to a endpoint at the Companion exposed using the IP 0.0.0.0
and a given port. It then sends some data so the server knows it has a client
and starts relaying the serial data back at it.
You should run this at your topside computer.
&quot;&quot;&quot;</span>
<span class="hljs-keyword">import</span> socket
<span class="hljs-keyword">import</span> time

UDP_IP = <span class="hljs-string">&quot;192.168.2.2&quot;</span> <span class="hljs-comment"># Remote (Companion&apos;s) IP to connect to</span>
UDP_PORT = <span class="hljs-number">5555</span>        <span class="hljs-comment"># Remote (Companion&apos;s) port to connect to</span>
sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

<span class="hljs-keyword">try</span>:
    <span class="hljs-comment"># Send something so the server knows where to reply to</span>
    sent = sock.sendto(<span class="hljs-string">b&quot;hello&quot;</span>, (UDP_IP, UDP_PORT))
    <span class="hljs-comment"># Loop receiving data</span>
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">True</span>:
        data, server = sock.recvfrom(<span class="hljs-number">4096</span>)
        print(data.decode())
        time.sleep(<span class="hljs-number">0.01</span>)
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    print(e)
<span class="hljs-keyword">finally</span>:
    sock.close()
</code></pre>
<!--
To create a fake serial device `/dev/ttyVirt` under linux, do `socat PTY,link=/dev/ttyS0,group=uucp,perm=0660,ignoreeof UDP-LISTEN:5000`
You can then use it with applications, try `screen /dev/ttyVirt` for example.

Note: This is not enough! some applications, such as Arduino, do not find this port, and screen fails to release it when detaching.
!-->
<h2 id="other-pages">Other Pages:</h2>
<p>Apart from the four pages that can be accessed via direct links, Companion web interface also provides a few other pages for interacting with some more features.</p>
<h3 id="mavproxy">MAVProxy</h3>
<p><a href="http://192.168.2.2:2770/mavproxy" target="_blank">MAVProxy</a> page allows the user to:</p>
<ul>
<li>Adjust the MAVProxy settings</li>
<li>Restart or Restore MAVProxy</li>
</ul>
<p><img src="../images/mavproxy.png" class="img-responsive img-center" style="max-width:750px"></p>
<h3 id="git">Git</h3>
<p><a href="http://192.168.2.2:2770/git" target="_blank">Git</a> page is used for:</p>
<ul>
<li>Displaying the current head</li>
<li>Adding remote repositories</li>
<li>Updating the system to development branches</li>
</ul>
<p><img src="../images/git.png" class="img-responsive img-center" style="max-width:750px"></p>
<h4 id="manual-updates">Manual updates</h4>
<blockquote>
<p><span style="color:red">This feature is for development and testing only. It can result in unstable behavior or an unusable system. You should only use this if directed during technical support or beta testing.</span></p>
</blockquote>
<p>Before continuing, make sure that you have <a href="https://192.168.2.2:2770/network" target="_blank">internet access</a>.</p>
<p>Steps to manually update via the <a href="http://192.168.2.2:2770/git" target="_blank">Git page</a>:</p>
<ol>
<li>Click in <strong>Fetch</strong> to get the last changes of the remote repositories.</li>
<li>Select the desired remote, <strong>origin</strong> for Blue Robotics repository.</li>
<li>Click in <strong>tags</strong> to open the available options.</li>
<li>Select the tag that you want to update, it&apos;ll be highlighted when selected.</li>
<li>Click in <strong>Update</strong> to update companion to the selected version.</li>
</ol>
<p><img src="../images/companion-git-remote.png" class="img-responsive img-center" style="max-width:750px"></p>
<h3 id="waterlinked">Waterlinked</h3>
<p><a href="http://192.168.2.2:2770/waterlinked" target="_blank">Waterlinked</a> page can be used to: </p>
<ul>
<li>Setup waterlinked underwater GPS driver</li>
<li>Restart driver</li>
</ul>
<p><img src="../images/waterlinked.png" class="img-responsive img-center" style="max-width:750px"></p>
<h3 id="terminal-over-browser">Terminal over browser</h3>
<p><a href="http://192.168.2.2:8088" target="_blank">Terminal</a> page can be used to:</p>
<ul>
<li>Interact with the Companion from a web browser using terminal. (Useful for those who do not use Ubuntu/Linux)</li>
</ul>
<p><img src="../images/terminal.png" class="img-responsive img-center" style="max-width:750px"></p>
<h3 id="file-system-access">File System Access</h3>
<p><a href="http://192.168.2.2:7777" target="_blank">File Manager</a> page can be used to:</p>
<ul>
<li>View, Download, delete, move, rename, or archive the files on the Companion computer directly from the web browser</li>
</ul>
<p><img src="../images/files.png" class="img-responsive img-center" style="max-width:750px"></p>
<h3 id="mavlink-rest-api">MAVLink REST API</h3>
<p>Starting from companion 0.0.19, a MAVLink REST API (<a href="http://192.168.2.2:4777/mavlink" target="_blank">http://192.168.2.2:4777/mavlink</a>) endpoint is available.
It provides access to the last MAVLink messages sent by the vehicle in <a href="https://www.json.org" target="_blank">json format</a>.</p>
<p>The json contains the same structure defined by the <a href="https://mavlink.io/en/messages/common.html" target="_blank">MAVLink protocol standard</a>,
where each <strong>field</strong> exists and can be accessible.
Besides the MAVLink specification, each message contains an structure called <code>message_information</code>,
that provides the time, frequency and counter of such message.</p>
<p>It&apos;s possible to access:</p>
<ul>
<li>All messages available in <a href="http://192.168.2.2:4777/mavlink" target="_blank">/mavlink</a></li>
<li>Specific messages via subpath, E.g: <a href="http://192.168.2.2:4777/mavlink/HEARTBEAT" target="_blank">/mavlink/HEARTBEAT</a> or <a href="http://192.168.2.2:4777/mavlink/ATTITUDE" target="_blank">/mavlink/ATTITUDE</a>.</li>
<li>Single fields via nested subpath, E.g: <a href="http://192.168.2.2:4777/mavlink/HEARTBEAT/mavtype/type" target="_blank">/mavlink/HEARTBEAT/mavtype/type</a> or or <a href="http://192.168.2.2:4777/mavlink/ATTITUDE/pitch" target="_blank">/mavlink/ATTITUDE/pitch</a>.</li>
</ul>
<p>You can check the following json as a minimal example of what you can find from the main path <code>/mavlink</code>:</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;ATTITUDE&quot;</span>: {
    <span class="hljs-string">&quot;message_information&quot;</span>: {
      <span class="hljs-string">&quot;counter&quot;</span>: <span class="hljs-number">680870</span>,
      <span class="hljs-string">&quot;frequency&quot;</span>: <span class="hljs-number">9.998090744018556</span>,
      <span class="hljs-string">&quot;time&quot;</span>: {
        <span class="hljs-string">&quot;first_message&quot;</span>: <span class="hljs-string">&quot;2020-02-05T23:51:19.189911121+00:00&quot;</span>,
        <span class="hljs-string">&quot;last_message&quot;</span>: <span class="hljs-string">&quot;2020-02-06T18:46:19.301620958+00:00&quot;</span>
      }
    },
    <span class="hljs-string">&quot;pitch&quot;</span>: <span class="hljs-number">-0.24140535295009613</span>,
    <span class="hljs-string">&quot;pitchspeed&quot;</span>: <span class="hljs-number">-0.002207340206950903</span>,
    <span class="hljs-string">&quot;roll&quot;</span>: <span class="hljs-number">-0.21160905063152313</span>,
    <span class="hljs-string">&quot;rollspeed&quot;</span>: <span class="hljs-number">-0.00044677406549453735</span>,
    <span class="hljs-string">&quot;time_boot_ms&quot;</span>: <span class="hljs-number">68104588</span>,
    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;ATTITUDE&quot;</span>,
    <span class="hljs-string">&quot;yaw&quot;</span>: <span class="hljs-number">-1.3117148876190186</span>,
    <span class="hljs-string">&quot;yawspeed&quot;</span>: <span class="hljs-number">0.0022055506706237793</span>
  },
  <span class="hljs-string">&quot;DISTANCE_SENSOR&quot;</span>: {
    <span class="hljs-string">&quot;covariance&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;current_distance&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;mavtype&quot;</span>: {
      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;MAV_DISTANCE_SENSOR_UNKNOWN&quot;</span>
    },
    <span class="hljs-string">&quot;max_distance&quot;</span>: <span class="hljs-number">700</span>,
    <span class="hljs-string">&quot;message_information&quot;</span>: {
      <span class="hljs-string">&quot;counter&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;frequency&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;time&quot;</span>: {
        <span class="hljs-string">&quot;first_message&quot;</span>: <span class="hljs-string">&quot;2020-02-05T23:51:19.245754158+00:00&quot;</span>,
        <span class="hljs-string">&quot;last_message&quot;</span>: <span class="hljs-string">&quot;2020-02-05T23:51:19.245778012+00:00&quot;</span>
      }
    },
    <span class="hljs-string">&quot;min_distance&quot;</span>: <span class="hljs-number">20</span>,
    <span class="hljs-string">&quot;orientation&quot;</span>: {
      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;MAV_SENSOR_ROTATION_PITCH_270&quot;</span>
    },
    <span class="hljs-string">&quot;time_boot_ms&quot;</span>: <span class="hljs-number">4482</span>,
    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;DISTANCE_SENSOR&quot;</span>
  },
  <span class="hljs-string">&quot;HEARTBEAT&quot;</span>: {
    <span class="hljs-string">&quot;autopilot&quot;</span>: {
      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;MAV_AUTOPILOT_ARDUPILOTMEGA&quot;</span>
    },
    <span class="hljs-string">&quot;base_mode&quot;</span>: {
      <span class="hljs-string">&quot;bits&quot;</span>: <span class="hljs-number">81</span>
    },
    <span class="hljs-string">&quot;custom_mode&quot;</span>: <span class="hljs-number">19</span>,
    <span class="hljs-string">&quot;mavlink_version&quot;</span>: <span class="hljs-number">3</span>,
    <span class="hljs-string">&quot;mavtype&quot;</span>: {
      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;MAV_TYPE_SUBMARINE&quot;</span>
    },
    <span class="hljs-string">&quot;message_information&quot;</span>: {
      <span class="hljs-string">&quot;counter&quot;</span>: <span class="hljs-number">68101</span>,
      <span class="hljs-string">&quot;frequency&quot;</span>: <span class="hljs-number">1.0000146627426147</span>,
      <span class="hljs-string">&quot;time&quot;</span>: {
        <span class="hljs-string">&quot;first_message&quot;</span>: <span class="hljs-string">&quot;2020-02-05T23:51:18.970019298+00:00&quot;</span>,
        <span class="hljs-string">&quot;last_message&quot;</span>: <span class="hljs-string">&quot;2020-02-06T18:46:18.978841566+00:00&quot;</span>
      }
    },
    <span class="hljs-string">&quot;system_status&quot;</span>: {
      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;MAV_STATE_CRITICAL&quot;</span>
    },
    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;HEARTBEAT&quot;</span>
  },
  <span class="hljs-string">&quot;POWER_STATUS&quot;</span>: {
    <span class="hljs-string">&quot;Vcc&quot;</span>: <span class="hljs-number">5000</span>,
    <span class="hljs-string">&quot;Vservo&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;flags&quot;</span>: {
      <span class="hljs-string">&quot;bits&quot;</span>: <span class="hljs-number">0</span>
    },
    <span class="hljs-string">&quot;message_information&quot;</span>: {
      <span class="hljs-string">&quot;counter&quot;</span>: <span class="hljs-number">680870</span>,
      <span class="hljs-string">&quot;frequency&quot;</span>: <span class="hljs-number">9.998090744018556</span>,
      <span class="hljs-string">&quot;time&quot;</span>: {
        <span class="hljs-string">&quot;first_message&quot;</span>: <span class="hljs-string">&quot;2020-02-05T23:51:19.199533151+00:00&quot;</span>,
        <span class="hljs-string">&quot;last_message&quot;</span>: <span class="hljs-string">&quot;2020-02-06T18:46:19.311397896+00:00&quot;</span>
      }
    },
    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;POWER_STATUS&quot;</span>
  },
  <span class="hljs-string">&quot;RAW_IMU&quot;</span>: {
    <span class="hljs-string">&quot;message_information&quot;</span>: {
      <span class="hljs-string">&quot;counter&quot;</span>: <span class="hljs-number">680871</span>,
      <span class="hljs-string">&quot;frequency&quot;</span>: <span class="hljs-number">9.998106002807615</span>,
      <span class="hljs-string">&quot;time&quot;</span>: {
        <span class="hljs-string">&quot;first_message&quot;</span>: <span class="hljs-string">&quot;2020-02-05T23:51:19.099038934+00:00&quot;</span>,
        <span class="hljs-string">&quot;last_message&quot;</span>: <span class="hljs-string">&quot;2020-02-06T18:46:19.325582710+00:00&quot;</span>
      }
    },
    <span class="hljs-string">&quot;time_usec&quot;</span>: <span class="hljs-number">3680079699</span>,
    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;RAW_IMU&quot;</span>,
    <span class="hljs-string">&quot;xacc&quot;</span>: <span class="hljs-number">-237</span>,
    <span class="hljs-string">&quot;xgyro&quot;</span>: <span class="hljs-number">-42</span>,
    <span class="hljs-string">&quot;xmag&quot;</span>: <span class="hljs-number">150</span>,
    <span class="hljs-string">&quot;yacc&quot;</span>: <span class="hljs-number">204</span>,
    <span class="hljs-string">&quot;ygyro&quot;</span>: <span class="hljs-number">-1</span>,
    <span class="hljs-string">&quot;ymag&quot;</span>: <span class="hljs-number">67</span>,
    <span class="hljs-string">&quot;zacc&quot;</span>: <span class="hljs-number">-920</span>,
    <span class="hljs-string">&quot;zgyro&quot;</span>: <span class="hljs-number">37</span>,
    <span class="hljs-string">&quot;zmag&quot;</span>: <span class="hljs-number">461</span>
  },
  <span class="hljs-string">&quot;RC_CHANNELS&quot;</span>: {
    <span class="hljs-string">&quot;chan10_raw&quot;</span>: <span class="hljs-number">1100</span>,
    <span class="hljs-string">&quot;chan11_raw&quot;</span>: <span class="hljs-number">1100</span>,
    <span class="hljs-string">&quot;chan12_raw&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;chan13_raw&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;chan14_raw&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;chan15_raw&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;chan16_raw&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;chan17_raw&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;chan18_raw&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;chan1_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;chan2_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;chan3_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;chan4_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;chan5_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;chan6_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;chan7_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;chan8_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;chan9_raw&quot;</span>: <span class="hljs-number">1100</span>,
    <span class="hljs-string">&quot;chancount&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;message_information&quot;</span>: {
      <span class="hljs-string">&quot;counter&quot;</span>: <span class="hljs-number">680870</span>,
      <span class="hljs-string">&quot;frequency&quot;</span>: <span class="hljs-number">9.998090744018556</span>,
      <span class="hljs-string">&quot;time&quot;</span>: {
        <span class="hljs-string">&quot;first_message&quot;</span>: <span class="hljs-string">&quot;2020-02-05T23:51:19.220836357+00:00&quot;</span>,
        <span class="hljs-string">&quot;last_message&quot;</span>: <span class="hljs-string">&quot;2020-02-06T18:46:19.323932621+00:00&quot;</span>
      }
    },
    <span class="hljs-string">&quot;rssi&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;time_boot_ms&quot;</span>: <span class="hljs-number">68104589</span>,
    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;RC_CHANNELS&quot;</span>
  },
  <span class="hljs-string">&quot;SCALED_PRESSURE&quot;</span>: {
    <span class="hljs-string">&quot;message_information&quot;</span>: {
      <span class="hljs-string">&quot;counter&quot;</span>: <span class="hljs-number">680870</span>,
      <span class="hljs-string">&quot;frequency&quot;</span>: <span class="hljs-number">9.998090744018556</span>,
      <span class="hljs-string">&quot;time&quot;</span>: {
        <span class="hljs-string">&quot;first_message&quot;</span>: <span class="hljs-string">&quot;2020-02-05T23:51:19.228165860+00:00&quot;</span>,
        <span class="hljs-string">&quot;last_message&quot;</span>: <span class="hljs-string">&quot;2020-02-06T18:46:19.327375453+00:00&quot;</span>
      }
    },
    <span class="hljs-string">&quot;press_abs&quot;</span>: <span class="hljs-number">1240.5726318359375</span>,
    <span class="hljs-string">&quot;press_diff&quot;</span>: <span class="hljs-number">0.0</span>,
    <span class="hljs-string">&quot;temperature&quot;</span>: <span class="hljs-number">19203</span>,
    <span class="hljs-string">&quot;time_boot_ms&quot;</span>: <span class="hljs-number">68104592</span>,
    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;SCALED_PRESSURE&quot;</span>
  },
  <span class="hljs-string">&quot;SERVO_OUTPUT_RAW&quot;</span>: {
    <span class="hljs-string">&quot;message_information&quot;</span>: {
      <span class="hljs-string">&quot;counter&quot;</span>: <span class="hljs-number">680870</span>,
      <span class="hljs-string">&quot;frequency&quot;</span>: <span class="hljs-number">9.998090744018556</span>,
      <span class="hljs-string">&quot;time&quot;</span>: {
        <span class="hljs-string">&quot;first_message&quot;</span>: <span class="hljs-string">&quot;2020-02-05T23:51:19.216933118+00:00&quot;</span>,
        <span class="hljs-string">&quot;last_message&quot;</span>: <span class="hljs-string">&quot;2020-02-06T18:46:19.321753267+00:00&quot;</span>
      }
    },
    <span class="hljs-string">&quot;port&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;servo1_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;servo2_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;servo3_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;servo4_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;servo5_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;servo6_raw&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;servo7_raw&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;servo8_raw&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;time_usec&quot;</span>: <span class="hljs-number">3680079638</span>,
    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;SERVO_OUTPUT_RAW&quot;</span>
  }
}
</code></pre>
<p style="font-size:10px; text-align:center">
Sponsored by <a href="http://www.bluerobotics.com/" target="_blank">Blue Robotics</a>. Code released under the <a href="https://github.com/bluerobotics/ardusub/blob/master/COPYING.txt" target="_blank">GPLv3 License</a>. Documentation released under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC-NC-SA 4.0</a>.<br>
<a href="https://github.com/bluerobotics/ardusub-docs/issues/" target="_blank">Submit a Documentation GitHub Issue here</a> to report any errors, suggestions, or missing information in this documentation.<br>
<a href="https://github.com/bluerobotics/ardusub/issues/" target="_blank">Submit an ArduSub GitHub Issue here</a> to report issues with the ArduSub software.
</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="recording-video.html" class="navigation navigation-prev " aria-label="Previous page: Recording Video">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="software-update.html" class="navigation navigation-next " aria-label="Next page: Updating Software">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Companion Web Interface","level":"5.12","depth":1,"next":{"title":"Updating Software","level":"5.13","depth":1,"path":"operators-manual/software-update.md","ref":"operators-manual/software-update.md","articles":[]},"previous":{"title":"Recording Video","level":"5.11","depth":1,"path":"operators-manual/recording-video.md","ref":"operators-manual/recording-video.md","articles":[]},"dir":"ltr"},"config":{"gitbook":">= 3.2.2","theme":"default","variables":{},"plugins":["youtube","richquotes","page-toc-button","collapsible-menu","custom-favicon","toolbar@git+https://github.com/hamishwillee/gitbook-plugin-toolbar.git","-validate-links"],"pluginsConfig":{"collapsible-menu":{},"youtube":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"richquotes":{"tip":{"alert":"success","picto":"fa-thumbs-o-up"},"aerial":{"alert":"warning","picto":"fa-plane"},"gps":{"alert":"info","picto":"fa-map-marker"},"version":{"alert":"info","picto":"fa fa-refresh fa-spin fa-3x fa-fw"}},"highlight":{},"favicon":"favicon.ico","page-toc-button":{},"custom-favicon":{},"toolbar":{"buttons":[{"label":"Bug tracker","icon":"fa fa-bug","position":"left","url":"https://github.com/bluerobotics/ardusub-gitbook/issues/new?title=Doc+Bug:+{{title}}&body=DESCRIBE+PROBLEM+WITH+DOCS+HERE%0A%0ABug+Page:+[{{title}}]({{url}})"},{"label":"GitHub","icon":"fa fa-github","url":"https://github.com/Ardupilot/ardupilot"},{"label":"Edit page on github","icon":"fa fa-pencil-square-o","position":"left","url":"https://github.com/bluerobotics/ardusub-gitbook/edit/master/{{filepath_lang}}"}]},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"operators-manual/companion-web.md","mtime":"2020-03-30T14:19:04.871Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-03-30T14:19:50.380Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-toolbar/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

